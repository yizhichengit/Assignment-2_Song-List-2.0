# app.kv
# This file defines the layout for the Kivy application using Kivy's KV language.

BoxLayout:
    orientation: 'horizontal'  # Main layout is horizontal, dividing the screen into two sections.

    # Left panel for inputs and sorting options.
    BoxLayout:
        orientation: 'vertical'  # Vertically aligns elements in the left panel.
        size_hint_x: None  # Disables automatic sizing in the horizontal direction.
        width: 300  # Sets the width of the left panel.
        spacing: 10  # Space between widgets in the box layout.
        padding: 10  # Padding around the widgets inside the box layout.

        Label:
            text: 'Sort by:'  # Label for the sorting spinner.
        Spinner:
            id: sort_spinner  # Assigns an id to access this widget from Python code.
            text: 'Artist'  # Default value shown in the spinner.
            values: ['Artist','Title','Year', 'Learned']  # Options for sorting.
            on_text: app.sort_songs(self.text)  # Calls a method to sort songs when an option is selected.

        # Input fields for adding a new song.
        TextInput:
            id: title_input  # id for accessing the text input for title.
            hint_text: 'Title'  # Placeholder text.
            multiline: False  # Single line text input.
        TextInput:
            id: artist_input  # id for accessing the text input for artist.
            hint_text: 'Artist'  # Placeholder text.
            multiline: False
        TextInput:
            id: year_input  # id for accessing the text input for year.
            hint_text: 'Year'  # Placeholder text.
            multiline: False

        # Buttons for adding and clearing the song input fields.
        Button:
            text: 'Add Song'
            on_release: app.add_song()  # Calls a method to add a new song when clicked.
        Button:
            text: 'Clear'
            on_release: app.clear_inputs()  # Clears the input fields when clicked.

    # Right panel for displaying songs and status.
    BoxLayout:
        orientation: 'vertical'
        size_hint_x: None
        width: 500  # Sets the width of the right panel.

        # Horizontal layout for learned and to-learn counters.
        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: None
            height: 30  # Height of the container for the labels.

            # Labels to show the number of songs to learn and learned.
            Label:
                text: "To Learn: {}".format(app.to_learn)
            Label:
                text: "Learned: {}".format(app.learned)

        # Scroll view to display the list of songs.
        ScrollView:
            size_hint_x: 1  # Fills the horizontal space in its container.

            # Grid layout for the song buttons.
            GridLayout:
                id: songs_box  # id to reference this layout from Python code.
                cols: 1  # One column layout.
                size_hint_y: 1  # Fills the vertical space in its container.
                height: 200  # Sets a starting height, will expand with content.
                width:200  # Sets the width to match the parent container.

        # Label to display status messages.
        Label:
            id: status_label
            size_hint_y: None
            height: 30  # Height of the status label.
            text: app.status_text  # Binds the text to a property in the app class.



